<!DOCTYPE html>
<html lang="en-gb" dir="ltr">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Первый опрос</title>
	<link rel="stylesheet" href="./assets/css/uikit.dom.css">
	<script src="./assets/js/script.js"></script>
	<script src="./assets/js/uikit.js"></script>
	<script src="./assets/js/uikit-icons.js"></script>
	<link rel="icon" type="image/png" href="./assets/images/favicon.png" type="image/png">
</head>

<body>
<header class="header">
	<div class="uk-container">
		<nav uk-navbar>
			<div class="uk-navbar-left">
				<div class="uk-logo">
					<a href="/">
						<img src="./assets/images/logo.png" alt="Логотип">
					</a>
				</div>
				<ul class="uk-navbar-nav uk-visible@s">
					<li>
						<a href="#">Квартиры <span uk-icon="icon: triangle-down" class="lh-inherit"></span></a>
						<div uk-dropdown>
							<ul class="uk-nav uk-nav-default">
								<li>
									<a href="#">Студии</a>
								</li>
								<li>
									<a href="#">Однокомнатные</a>
								</li>
								<li>
									<a href="#">Двухкомнатные</a>
								</li>
								<li>
									<a href="#">Все</a>
								</li>
							</ul>
						</div>
					</li>
					<li>
						<a href="#">Начальный капитал</a>
					</li>
				</ul>
			</div>

			<div class="uk-navbar-right">
				<ul class="uk-navbar-nav">
					<li class="uk-visible@s">
						<a href="#">Ваш менеджер <span uk-icon="icon: triangle-down" class="lh-inherit"></span></a>
						<div uk-dropdown="pos: bottom-left" class="manager">
							<div class="manager__img">
								<img src="./assets/images/photo.png" alt="фото Вениамин Ротенбергер">
							</div>
							<p>
								Вениамин Ротенбергер
							</p>
							<p>
								<a href="tel:+7 (999) 999-99-99"><i class="icon-phone"></i> +7 (999) 999-99-99</a>
							</p>
							<p>
								<a href="mailto:manager@72dom.com"><i class="icon-mail-alt"></i> manager@72dom.com</a>
							</p>
						</div>
					</li>
					<li>
						<a href="#" class="no-hover"><span uk-icon="heart" class="heart"><span class="icon-number">19</span></span></a>
					</li>
					<li>
						<a href="#"><i class="icon-article icon_big uk-position-relative"><span class="icon-number icon-number_rotate">3</span></i></a>
					</li>
					<li class="uk-hidden@s">
						<a uk-toggle href="#mobile-menu">
							<div class="hamburger" id="hamburger">
                                <span></span>
                            </div>
						</a>
					</li>
				</ul>
			</div>
		</nav>
	</div>
	<div uk-offcanvas id="mobile-menu" class="uk-offcanvas mobile-menu">
		<div class="uk-offcanvas-bar">
			<nav uk-navbar>
				<ul class="mobile-menu__nav">
					<li>
						<a href="#">Квартиры</a>
						<ul class="mobile-menu__links">
							<li>
								<a href="#">Студии</a>
							</li>
							<li>
								<a href="#">Однокомнатные</a>
							</li>
							<li>
								<a href="#">Двухкомнатные</a>
							</li>
							<li>
								<a href="#">Трехкомнатные</a>
							</li>
							<li>
								<a href="#">Все</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="#">Начальный капитал</a>
					</li>
					<li>
						<a href="#">Пункт меню</a>
					</li>
				</ul>
			</nav>
			<div class="manager manager_mob ">
				<div class="manager__img manager__img_mob">
					<img src="./assets/images/photo.png" alt="фото Вениамин Ротенбергер">
				</div>
				<div class="manager__text">
					<p>
						Ваш менеджер:
					</p>
					<p>
						Вениамин Ротенбергер
					</p>
					<p>
						<a href="tel:+7 (999) 999-99-99"><i class="icon-phone"></i> +7 (999) 999-99-99</a>
					</p>
					<p>
						<a href="mailto:manager@72dom.com"><i class="icon-mail-alt"></i> manager@72dom.com</a>
					</p>
				</div>
			</div>
		</div>
	</div>
</header>


	<section class="content">

		<div class="uk-container">
			<div class="main uk-child-width-1-2@l">
				<div class="uk-width-1-3@s uk-width-1-2@m">
					<h1 class="main__title">
						Начальный капитал
					</h1>
				</div>

				<div class="uk-width-2-3@s uk-width-1-2@m">
					<form class="main__form main__form_full-width" name="calcForm" method="post">
						<span>Чтобы показать вам персонализированный расчет по вашим финансовым условиям, заполните пожалуйста информацию ниже:</span>
						<span>Размер первоначального взноса</span>
						<div class="range">
							<span class="range__value">1 450 000 ₽</span>
							<input type="range" min="0" max="10000000" value="1450000" step="10000" class="uk-range range__input" name="initial-payment">
							<div class="range__interval">
								<span>0</span>
								<span>10 000 000</span>
							</div>
						</div>
						<div class="checkboxes">
							<label class="checkboxes__item"><input class="uk-checkbox" name="mother-cap-first" value="466617" type="checkbox" checked>Мат. капитал за первого ребёнка +466 617 ₽</label>
							<label class="checkboxes__item"><input class="uk-checkbox" name="mother-cap-region" value="150000" type="checkbox">Регинальный мат. капитал Тюменской области за первого ребёнка +150 000 ₽</label>
							<label class="checkboxes__item"><input class="uk-checkbox" name="mother-cap-second" value="616617" type="checkbox">Мат. капитал за второго ребёнка +616 617 ₽</label>
						</div>

						<div class="extra-cash">
							<input type="number" class="uk-input extra-cash__input" placeholder="Дополнительные средства">
							<i class="icon-question-circle-o icon_big uk-position-relative" uk-tooltip="title: Дополнительная сумма, которая прибавится к первоначальному взносу.; pos: bottom; delay: 500"></i>
						</div>

						<button type="submit" class="button">Показать квартиры</button>
					</form>

				</div>

			</div>
		</div>

	</section>


<footer class="footer">
	<div class="consultation__wrap">
		<div class="uk-container mobile-no-padding">
			<div class="consultation">
				<div class="consultation__img">
					<img src="./assets/images/consultation.png">
				</div>
				<div class="consultation__body">
					<h2>
						Консультация<br>кредитного брокера
					</h2>
					<p>Услуга бесплатная</p>
					<button class="button button_mob-small">Получить <span class="uk-visible@s">консультацию</span></button>
				</div>
			</div>
		</div>
	</div>
	<div class="bottom__wrap">
		<div class="uk-container">
			<div class="bottom">
				<span>
					© 2020 ГК Дом
				</span>
				<span>
					Не является публичной офертой
				</span>
				<a href="#" class="bottom__link">
					Политика конфиденциальности
				</a>
			</div>
		</div>
	</div>
</footer>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        'use strict';
        const rangeInput = document.querySelector('.range__input');
        const rangeValueText = document.querySelector('.range__value');
        const checkboxes = document.querySelectorAll('.checkboxes input');
        const extraCashInput = document.querySelector('.extra-cash__input');
        const calcForm = document.querySelector('form[name=calcForm]');

        rangeInput.addEventListener('input', () => {
            rangeValueText.innerHTML = parseInt(rangeInput.value).toLocaleString('ru-RU') + ' ₽';
        });

        calcForm.addEventListener('submit', (event) => {
            event.preventDefault();
            window.location.replace('/catalog/?sum=' + getSum());
        });

        function getSum() {
            let sum = 0;
            for (const item of checkboxes) {
                if (item.checked) {
                    sum += parseInt(item.value);
                }
            }
            sum += parseInt(rangeInput.value);

            if (!isNaN(parseInt(extraCashInput.value))) {
                sum += parseInt(extraCashInput.value);
            }

            return sum;
        }
    });
</script>
</body>
</html>
